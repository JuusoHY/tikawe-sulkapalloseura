{% extends "layout.html" %}
{% block title %}Edit {{ ann['title'] }}{% endblock %}
{% block content %}
  <h2>Edit Announcement</h2>
  <form method="post" action="{{ url_for('update_announcement', ann_id=ann['id']) }}">
    <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
    <label>Title:<br><input name="title" value="{{ ann['title'] }}" required></label><br>
    <label>Description:<br><textarea name="description" required>{{ ann['description'] }}</textarea></label><br>
    <label>Location:<br><input name="location" value="{{ ann['location'] }}"></label><br>
    <label>Time:<br><input name="time" type="datetime-local" value="{{ ann['time'] }}"></label><br>
    <label>Slots needed:<br><input name="slots_needed" type="number" min="1" value="{{ ann['slots_needed'] }}"></label><br>

    <h3>Classifications</h3>
    {% for title, values in all_classes.items() %}
      <label>{{ title }}
        <select name="classes">
          <option value="">--</option>
          {% for v in values %}
            <option value="{{ title }}:{{ v }}" {% if selected_classes.get(title) == v %}selected{% endif %}>{{ v }}</option>
          {% endfor %}
        </select>
      </label><br>
    {% endfor %}

    <button type="submit">Update</button>
  </form>
{% endblock %}
